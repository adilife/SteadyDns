# ID=1 DNS转发组特例修正 - 前端开发影响说明

## 一、修改概述

本次修改对ID=1的DNS转发组进行了特例修正，主要包括：
1. 默认域名为`Default`，默认描述为`Default Domain`
2. 域名和描述不可修改
3. 默认转发组不可被删除
4. 启动服务时自动创建（如果不存在）

## 二、对前端的具体影响

### 1. 更新转发组功能
- **API影响**：当尝试修改ID=1转发组的域名或描述时，API会返回错误
- **错误消息**：`ID=1的转发组是默认组，域名和描述不可修改`
- **前端适配建议**：
  - 在UI上禁用ID=1转发组的域名和描述编辑功能
  - 显示明确的提示信息，说明默认转发组的域名和描述不可修改
  - 处理API返回的错误，显示友好的错误提示

### 2. 删除转发组功能
- **API影响**：当尝试删除ID=1转发组时，API会返回错误
- **错误消息**：`ID=1的转发组是默认组，不可删除`
- **前端适配建议**：
  - 在UI上禁用ID=1转发组的删除按钮
  - 显示明确的提示信息，说明默认转发组不可删除
  - 处理API返回的错误，显示友好的错误提示

### 3. 批量删除转发组功能
- **API影响**：当批量删除包含ID=1转发组时，API会返回错误
- **错误消息**：`ID=1的转发组是默认组，不可删除`
- **前端适配建议**：
  - 在批量删除前自动过滤掉ID=1的转发组
  - 或者在UI上禁止选择ID=1的转发组进行批量删除
  - 处理API返回的错误，显示友好的错误提示

### 4. 获取转发组列表
- **API影响**：返回的ID=1转发组具有固定的域名和描述
- **前端适配建议**：
  - 显示ID=1转发组为"默认转发组"，与其他转发组区分
  - 可以在UI上添加特殊标识，如"默认"标签
  - 确保显示的域名和描述与后端返回一致

### 5. 创建转发组功能
- **API影响**：系统会自动创建ID=1的转发组，前端不需要手动创建
- **前端适配建议**：
  - 不需要专门处理ID=1的转发组创建
  - 可以在UI上显示提示，说明默认转发组会自动创建

## 三、前端适配建议

1. **UI层适配**：
   - 对ID=1的转发组添加特殊样式或标识
   - 禁用不可操作的功能按钮
   - 显示明确的提示信息

2. **API层适配**：
   - 处理API返回的错误信息
   - 对ID=1的转发组进行特殊处理
   - 确保所有操作都符合后端的限制

3. **用户体验优化**：
   - 在用户尝试执行不可操作的功能前给予提示
   - 提供清晰的错误信息，说明操作失败的原因
   - 确保UI状态与后端数据保持一致

## 四、测试建议

1. **功能测试**：
   - 测试修改ID=1转发组的域名和描述
   - 测试删除ID=1的转发组
   - 测试批量删除包含ID=1的转发组
   - 测试获取转发组列表，确认ID=1的信息正确

2. **错误处理测试**：
   - 测试API返回错误时的前端处理
   - 测试UI上禁用功能的表现
   - 测试提示信息的显示

## 五、总结

本次修改主要是对ID=1的DNS转发组进行特例处理，前端需要在UI和API层面进行相应适配，确保用户体验流畅。建议前端开发人员重点关注：
- 禁用ID=1转发组的域名和描述编辑功能
- 禁用ID=1转发组的删除功能
- 处理API返回的错误信息
- 优化用户体验，提供清晰的提示信息

通过以上适配，前端可以确保与后端修改保持一致，为用户提供良好的使用体验。